

# 行为型模式

## 责任链模式

责任链模式——某个请求需要多个对象进行处理，从而避免请求的发送者和接收之间的耦合关系。将这些对象连成一条链子，并沿着这条链子传递该请求，直到有对象处理它为止。主要涉及两个角色：


- 抽象处理者角色（Handler）：定义出一个处理请求的接口。这个接口通常由接口或抽象类来实现。
- 具体处理者角色（ConcreteHandler）：具体处理者接受到请求后，可以选择将该请求处理掉，或者将请求传给下一个处理者。因此，每个具体处理者需要保存下一个处理者的引用，以便把请求传递下去。

### 优缺点比较

**优点**

- 降低耦合度。它将请求的发送者和接收者解耦 
- 简化了对象，使得对象不需要知道链的结构 
- 增强给对象指派职责的灵活性，允许动态地新增或者删除责任链 
- 增加新的请求处理类方便

**缺点**

- 不能保证请求一定被接收； 
- 当链条过长时，系统性能将受到一定影响，调试时不方便，可能会造成循环调用


### 源码中的应用

1. JDK的ClassLoader加载类`Launcher`。
双亲委派模型里的层级委派就使用了责任链模式。

2. 拦截器（待研究）


## 策略模式

思维导图见：design-strategy/策略模式思维导图思维导图.png

参考链接：https://juejin.cn/post/6844903842748841991


### 使用工厂模式和策略模式消灭if-else

#### 需求

>1、外卖平台上的某家店铺为了促销，设置了多种会员优惠，其中包含超级会员折扣8折、普通会员折扣9折和普通用户没有折扣三种。
>2、希望用户在付款的时候，根据用户的会员等级，就可以知道用户符合哪种折扣策略，进而进行打折，计算出应付金额。
>3、随着业务发展，新的需求要求专属会员要在店铺下单金额大于30元的时候才可以享受优惠。
>4、接着，又有一个变态的需求，如果用户的超级会员已经到期了，并且到期时间在一周内，那么就对用户的单笔订单按照超级会员进行折扣，并在收银台进行强提醒，引导用户再次开通会员，而且折扣只进行一次。



作者：漫话编程</br>
链接：https://juejin.cn/post/6844903974525468680
来源：掘金
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

